<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Saúde da Planta - Gráfico</title>
  <link rel="stylesheet" href="../styles/tela2.css" />
</head>
<body>
  <div class="app">
    <header class="topo">
      <div class="menu">☰</div>
      <div class="logo-texto">
        <img src="../images/Logo Escrita 1.png" alt="SpaceFARM" />
      </div>
      <div class="logo-icone">
        <img src="../images/Logo (1).png" alt="Logo" />
      </div>
    </header>

    <nav class="botoes-superiores">
      <button class="btn voltar"><span>⬅</span> Voltar</button>
      <button class="btn gestao">Estado da Fazenda</button>
    </nav>

    <section class="grafico">
      <img src="../images/grafico.png" alt="Gráfico de saúde da planta" class="imagem-grafico" />
    </section>

    <section class="filtro-data">
      <label for="inicio" class="filtro-label">Escolha a data de início e fim</label>
      <div class="inputs-data">
        <input type="date" id="inicio" name="inicio" />
        <input type="date" id="fim" name="fim" />
      </div>
      <button class="btn-confirmar">Confirmar</button>
      <button class="btn-baixar" onclick="baixarRelatorio()">Baixar Relatório PDF</button>
      <p id="mensagem-carregando" style="display: none; margin-top: 10px; color: #2e6f3e; font-weight: bold;">Baixando relatório...</p>
    </section>

    <section class="notificacao">
      <div class="notificacao-header" onclick="toggleNotificacao()">
        <h3>Notificações</h3>
        <span id="seta">&#x25B2;</span>
      </div>
      <div id="notificacao-conteudo" class="notificacao-conteudo">
        <p>
          As condições do umidade e temperatura nos talhões escolhidos estão em normalidade, por conta de dados colhidos pela estaca e analisados pela nossa equipe. Fique atento aos nossos alertas.
        </p>
      </div>
    </section>
  </div>

  <script>
    function baixarRelatorio() {
      const mensagem = document.getElementById("mensagem-carregando");
      mensagem.style.display = "block";
      setTimeout(() => {
        window.location.href = "tela3.html"; 
      }, 2000);
    }

    function toggleNotificacao() {
      const conteudo = document.getElementById("notificacao-conteudo");
      const seta = document.getElementById("seta");
      if (conteudo.style.display === "none") {
        conteudo.style.display = "block";
        seta.innerHTML = "&#x25B2;";
      } else {
        conteudo.style.display = "none";
        seta.innerHTML = "&#x25BC;";
      }
    }

    window.onload = function() {
      document.getElementById("notificacao-conteudo").style.display = "none";
      document.getElementById("seta").innerHTML = "&#x25BC;";
    }
  </script>
</body>
</html>
